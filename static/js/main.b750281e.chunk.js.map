{"version":3,"sources":["components/utils/utils.ts","components/states/PostState.tsx","components/states/PodcastState.tsx","components/states/VideoDiaryState.tsx","components/diary/LeftSider.tsx","components/share_components/DisplayCard.tsx","components/diary/VideoPanel.tsx","components/diary/DiaryPage.tsx","components/home/components/CardPanel.tsx","components/home/components/HomePost.tsx","components/home/components/LeftSider.tsx","settings/config.ts","components/home/Homepage.tsx","components/post/PostTitle.tsx","components/models/tableOfContent.tsx","components/post/plugins/linkPlugins.tsx","components/post/plugins/imagePlugins.tsx","components/post/plugins/audioPlugins.tsx","components/post/plugins/postSettingsPlugins.tsx","components/post/plugins/stylemap.ts","components/post/plugins/videoPlugins.tsx","components/post/plugins/internalLink.tsx","components/post/PostLayout.tsx","components/post/PostDetail.tsx","components/welcomepage/utils.js","components/welcomepage/Content0.jsx","components/welcomepage/Content1.jsx","components/welcomepage/index.jsx","components/welcomepage/Content3.jsx","components/welcomepage/Footer0.jsx","components/welcomepage/data.source.js","components/welcomepage/Banner0.jsx","settings/routes.tsx","components/Nav.tsx","App.tsx","serviceWorker.ts","index.tsx"],"names":["getURL","path","getPodcastURL","isBrightColor","color","red","green","blue","Math","sqrt","split","posts","list","i","length","push","slice","context","PostContext","React","createContext","PostProvider","props","fetchPosts","category","a","setState","isLoading","url","undefined","axios","get","response","data","results","nextURL","next","window","alert","fetchCategory","categoryResult","categories","fetchNext","console","log","state","concat","error","seletedCategory","getPost","fetchCategories","id","this","find","post","index","obj","Provider","value","children","Component","PodcastContext","PodcastProvider","clear","currentPlaylist","play","podcast","fetchPlaylist","Axios","result","playlist","fetchPodcast","forEach","p","VideoDiaryContext","VideoDiaryProvider","fetchVideo","time","videos","startDate","start_date","endDate","end_date","months","Link","LeftSider","params","useParams","useContext","style","overflowY","margin","getCurrentAnchor","href","title","map","m","moment","format","useStyles","makeStyles","theme","createStyles","card","backgroundRepeat","backgroundSize","height","backgroundColor","titleBright","position","top","fontWeight","width","titleDark","button","bottom","DisplayCard","classes","image","subtitle","actionTitle","onClick","isBright","Card","elevation","className","backgroundImage","CardContent","type","VideoDisplay","v","VideoPanel","diaries","reverse","horizentalCard","span","date","cover","is_bright","verticalCards","xs","sm","md","content","breakpoints","up","padding","DiaryPage","useEffect","Backdrop","open","zIndex","display","alignItems","justifyContent","alignContent","size","CardPanel","useState","inani","setIn","history","useHistory","setTimeout","cover_color","post_category","image_url","Fade","in","mountOnEnter","marginLeft","drawerWidth","divider","down","hrDivider","backgroundPosition","HomePost","setIsLoading","overflow","pl","unmountOnExit","timeout","loading","Sider","root","postContext","selectedCategoryId","setSelectedCategoryId","categoryPromise","Promise","all","c","toString","paddingTop","breakpoint","collapsedWidth","selectedKeys","Item","config","Content","backdrop","drawer","Homepage","useRouteMatch","document","minHeight","Title","Paragraph","Text","PostTitle","fontSize","marginBottom","marginTop","author","posted_time","ContentElement","level","element","lastElement","addChild","TreeItem","nodeId","label","render","TreeView","defaultCollapseIcon","defaultExpandIcon","blocks","includes","getHeaderValue","text","block","findLinkEntities","contentBlock","callback","contentState","findEntityRanges","character","entityKey","getEntity","getType","HtmlTooltip","withStyles","tooltip","typography","pxToRem","border","Tooltip","entityData","getData","Fragment","Typography","variant","src","alt","crossOrigin","summary","link","target","findImageEntities","ImageComponent","useTheme","matches","useMediaQuery","show","setShow","setLoading","alignment","description","cursor","maxWidth","float","marginRight","left","transform","CircularProgress","onError","onLoad","mainSrc","onCloseRequest","findAudioEntities","AudioComponent","decodeURIComponent","findPostSettingsEntities","PostSettingsComponent","entity","settings","detail","setDetail","setOpen","s","detailSettings","d","ClickAwayListener","onClickAway","name","onMouseEnter","onMouseLeave","styleMap","findVideoEntities","VideoComponent","captions","controls","lang","details","flexDirection","flex","paddingLeft","spacing","paddingBottom","playIcon","findInternalLinkEntities","InternalLinkComponent","location","CardMedia","component","username","resizeablePlugin","createResizeablePlugin","inlineToolbarPlugin","createInlineToolbarPlugin","alignmentPlugin","createAlignmentPlugin","sideToolbarPlugin","createSideToolbarPlugin","focusPlugin","createFocusPlugin","blockDndPlugin","createBlockDndPlugin","decorator","composeDecorators","AlignmentTool","createImagePlugin","body","container","overflowX","maxHeight","titleContainer","tableOfContent","TitleWithCover","imageSrc","tocElement","PostLayout","linkDecorator","CompositeDecorator","strategy","innerHeight","setHeight","addEventListener","ev","Grid","item","constructElementTree","JSON","parse","blockStyleFn","customStyleMap","onChange","e","readOnly","editorState","EditorState","createWithContent","convertFromRaw","plugins","loadingCard","innerContainer","LoadingCard","Array","from","k","PostDetail","setPost","then","res","catch","err","Helmet","property","isImg","getChildrenToRender","tag","indexOf","match","createElement","key","dataSource","isMobile","wrapper","titleWrapper","page","overPackData","OverPack","childWrapper","leaveReverse","componentProps","blockProps","PureComponent","Content1","Content3","getDelay","b","floor","clearFloatNum","childObj","delay","liAnim","opacity","ease","childrenAnim","x","animation","trim","icon","textWrapper","Footer","y","copyright","Banner00DataSource","Content00DataSource","playScale","VideoCameraOutlined","AppstoreAddOutlined","SettingOutlined","Content30DataSource","DatabaseOutlined","AlignLeftOutlined","EditOutlined","Footer00DataSource","Banner0","currentProps","ghost","yoyo","repeat","duration","DownOutlined","enquireScreen","WelcomPage","port","Content0","Footer0","ref","dom","routes","navPath","showInMenu","Header","Navbar","useLocation","selected","setSelected","selectedRoute","r","pathname","mode","filter","createMuiTheme","palette","primary","purple","secondary","podcastTheme","grey","App","ThemeProvider","CssBaseline","exact","Boolean","hostname","ReactDOM","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.b750281e.chunk.js","sourcesContent":["import { Color } from \"../models/post\";\n// const base = \"http://localhost/blog\";\nconst podcastBase = \"https://api.sirileepage.com/podcast\";\nconst base = \"https://api.sirileepage.com/blog\";\n// const podcastBase = \"http://localhost/podcast\";\n\nexport function getURL(path: string): string {\n  return `${base}/${path}`;\n}\n\nexport function getPodcastURL(path: string) {\n  return `${podcastBase}/${path}`;\n}\n\nexport function isBrightColor(color: Color): boolean {\n  const { red, green, blue } = color;\n  let hsp = Math.sqrt(\n    0.299 * (red * red) + 0.587 * (green * green) + 0.114 * (blue * blue)\n  );\n  return hsp > 190;\n}\n\nexport function split<T>(posts: T[]): T[][] {\n  const itemPerList = 3;\n  let list: T[][] = [];\n  let i = 0;\n  while (i < posts.length) {\n    list.push(posts.slice(i, i + itemPerList));\n    i += itemPerList;\n  }\n  return list;\n}\n\nexport const drawerWidth = 0;\n","/** @format */\n\nimport React, { Component } from \"react\";\nimport axios from \"axios\";\nimport { Post, FetchResult, Category } from \"../models/post\";\nimport { getURL } from \"../utils/utils\";\nimport { CategoryResult } from \"../models/category\";\n\ninterface State {\n  isLoading: boolean;\n  posts: Post[];\n  categories: Category[];\n  fetchPosts(category?: any): Promise<void>;\n  fetchCategories(): Promise<void>;\n  seletedCategory?: Category;\n  nextURL?: string | null;\n  fetchNext(): void;\n  getPost(id: number): Post | undefined;\n}\n\ninterface Props {}\n\n//@ts-ignore\nconst context: State = {};\n\nexport const PostContext = React.createContext(context);\n\nexport default class PostProvider extends Component<Props, State> {\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      isLoading: false,\n      posts: [],\n      seletedCategory: undefined,\n      categories: [],\n      fetchNext: this.fetchNext,\n      getPost: this.getPost,\n      fetchPosts: this.fetchPosts,\n      fetchCategories: this.fetchCategory,\n    };\n  }\n\n  /**\n   * Fetch all post from internet\n   */\n  fetchPosts = async (category: any | undefined): Promise<void> => {\n    try {\n      this.setState({ isLoading: true });\n      let url: string | undefined = undefined;\n      if (category) {\n        url = getURL(\"post/?category=\" + category);\n      } else {\n        url = getURL(\"post/\");\n      }\n\n      let response = await axios.get(url!);\n      this.setState({ isLoading: false });\n      let data: FetchResult = response.data;\n\n      this.setState({ posts: data.results, nextURL: data.next });\n    } catch (err) {\n      window.alert(\"Error: \" + err);\n    }\n  };\n\n  /**\n   * Fetch all category from internet\n   */\n  fetchCategory = async (): Promise<void> => {\n    try {\n      this.setState({ isLoading: true });\n      let url = getURL(\"category/\");\n      let response = await axios.get(url);\n      let categoryResult: CategoryResult = response.data;\n      this.setState({ isLoading: false, categories: categoryResult.results });\n    } catch (err) {\n      this.setState({ isLoading: false });\n      window.alert(\"Error: \" + err);\n    }\n  };\n\n  getPost(id: number): Post | undefined {\n    return this.state.posts.find((post, index, obj) => post.id === id);\n  }\n\n  fetchNext = async () => {\n    console.log(\"fetching next\");\n    const { nextURL } = this.state;\n    if (nextURL) {\n      try {\n        let response = await axios.get(nextURL);\n        let data: FetchResult = response.data;\n        let posts = this.state.posts;\n        posts = posts.concat(data.results);\n        this.setState({\n          posts: posts,\n          nextURL: data.next === null ? undefined : data.next,\n        });\n      } catch (err) {\n        console.error(err);\n      }\n    }\n  };\n\n  render() {\n    return (\n      <PostContext.Provider value={this.state}>\n        {this.props.children}\n      </PostContext.Provider>\n    );\n  }\n}\n","/** @format */\n\nimport React, { Component } from \"react\";\nimport axios from \"axios\";\nimport { Post, FetchResult, Category } from \"../models/post\";\nimport { RouteComponentProps } from \"react-router\";\nimport { getURL, getPodcastURL } from \"../utils/utils\";\nimport { CategoryResult } from \"../models/category\";\nimport { Playlist, AbstractPlaylist, Video } from \"../models/podcast\";\nimport Axios from \"axios\";\n\ninterface State {\n  playlist: AbstractPlaylist[];\n  currentPlaylist?: Video;\n  nextURL?: string | null;\n  isLoading: boolean;\n  fetchPlaylist(): Promise<void>;\n  fetchNext(): void;\n  fetchPodcast(id: any): Promise<Playlist>;\n  play(podcast: Video): void;\n  clear(): void;\n}\n\ninterface Props {}\n//@ts-ignore\nconst context: State = {};\n\nexport const PodcastContext = React.createContext(context);\n\nexport default class PodcastProvider extends Component<Props, State> {\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      isLoading: false,\n      playlist: [],\n      fetchNext: this.fetchNext,\n      fetchPodcast: this.fetchPodcast,\n      play: this.play,\n      clear: this.clear,\n      fetchPlaylist: this.fetchPlaylist,\n    };\n  }\n\n  clear = () => {\n    this.setState({ currentPlaylist: undefined });\n  };\n\n  play = (podcast: Video) => {\n    this.setState({ currentPlaylist: podcast });\n  };\n\n  fetchPlaylist = async () => {\n    this.setState({ isLoading: true });\n    let url = getPodcastURL(\"playlist\");\n    let result = await Axios.get(url);\n    this.setState({\n      nextURL: result.data.next,\n      playlist: result.data.results,\n      isLoading: false,\n    });\n  };\n\n  fetchPodcast = async (id: any): Promise<Playlist> => {\n    let url = getPodcastURL(`playlist/${id}/`);\n    let result = await Axios.get(url);\n    return result.data;\n  };\n\n  fetchNext = async () => {\n    if (this.state.nextURL) {\n      this.setState({ isLoading: true });\n      let result = await Axios.get(this.state.nextURL);\n      const { playlist } = this.state;\n      (result.data.results as AbstractPlaylist[]).forEach((p) => {\n        playlist.push(p);\n      });\n      this.setState({\n        nextURL: result.data.next,\n        playlist: playlist,\n        isLoading: false,\n      });\n    }\n  };\n\n  render() {\n    return (\n      <PodcastContext.Provider value={this.state}>\n        {this.props.children}\n      </PodcastContext.Provider>\n    );\n  }\n}\n","/** @format */\n\nimport React, { Component } from \"react\";\nimport axios from \"axios\";\nimport { FetchResult } from \"../models/post\";\nimport { getURL } from \"../utils/utils\";\nimport { CategoryResult } from \"../models/category\";\nimport { Diary } from \"../models/diary\";\n\ninterface State {\n  isLoading: boolean;\n  videos: Diary[];\n  nextURL?: string | null;\n  startDate?: string;\n  endDate?: string;\n  months?: string[];\n  fetchNext(): void;\n  fetchVideo(time: string | undefined): Promise<void>;\n}\n\ninterface Props {}\n\n//@ts-ignore\nconst context: State = {};\n\nexport const VideoDiaryContext = React.createContext(context);\n\nexport default class VideoDiaryProvider extends Component<Props, State> {\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      isLoading: false,\n      videos: [],\n      fetchNext: this.fetchNext,\n      fetchVideo: this.fetchVideo,\n    };\n  }\n\n  /**\n   * Fetch all post from internet\n   */\n  fetchVideo = async (time?: string): Promise<void> => {\n    try {\n      this.setState({ isLoading: true });\n      let url: string | undefined = undefined;\n      if (time) {\n        url = getURL(\"video-diary/?time=\" + time);\n      } else {\n        url = getURL(\"video-diary/\");\n      }\n\n      let response = await axios.get(url!);\n      this.setState({ isLoading: false });\n      let data = response.data;\n      this.setState({\n        videos: data.results,\n        nextURL: response.data.next,\n        startDate: response.data.start_date,\n        endDate: response.data.end_date,\n        months: response.data.months,\n      });\n      console.log(response.data.months);\n    } catch (err) {\n      window.alert(\"Error: \" + err);\n    }\n  };\n\n  fetchNext = async () => {\n    console.log(\"fetching next\");\n    const { nextURL } = this.state;\n    if (nextURL) {\n      try {\n        let response = await axios.get(nextURL);\n        let data = response.data;\n        let videos = this.state.videos;\n        videos = videos.concat(data.results);\n        this.setState({\n          videos: videos,\n          nextURL: data.next === null ? undefined : data.next,\n        });\n      } catch (err) {\n        console.error(err);\n      }\n    }\n  };\n\n  render() {\n    return (\n      <VideoDiaryContext.Provider value={this.state}>\n        {this.props.children}\n      </VideoDiaryContext.Provider>\n    );\n  }\n}\n","import React from \"react\";\nimport { Anchor, Col, Row, Typography } from \"antd\";\nimport { Content, Header } from \"antd/lib/layout/layout\";\nimport { VideoDiaryContext } from \"../states/VideoDiaryState\";\nimport moment from \"moment\";\nimport { useHistory, useLocation, useParams } from \"react-router\";\n\nconst { Link } = Anchor;\n\nexport default function LeftSider() {\n  const params = useParams<{ time?: string }>();\n  const { months } = React.useContext(VideoDiaryContext);\n  const getCurrentAnchor = () => `#/diary/${params.time ?? \"\"}`;\n\n  return (\n    <Anchor\n      style={{ overflowY: \"scroll\", margin: 10 }}\n      getCurrentAnchor={getCurrentAnchor}\n    >\n      <Link href=\"#/diary/\" title=\"All\" />\n      {months\n        ?.map((m) => moment(m))\n        .map((m, i) => (\n          <Link\n            href={`#/diary/${m.format(\"YYYY-MM\")}`}\n            title={`${m.format(\"YYYY-MM\")}`}\n          />\n        ))}\n    </Anchor>\n  );\n}\n","import React from \"react\";\nimport {\n  Card,\n  CardContent,\n  makeStyles,\n  Theme,\n  createStyles,\n  Fade,\n} from \"@material-ui/core\";\nimport { NavLink } from \"react-router-dom\";\nimport { Button, Row, Col } from \"antd\";\n\ninterface Props {\n  title: string;\n  subtitle: string;\n  actionTitle: string;\n  onClick(): void;\n  image: string;\n  /**\n   * Use white color or black color\n   */\n  isBright: boolean;\n}\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    card: {\n      backgroundRepeat: \"no-repeat\",\n      backgroundSize: \"cover\",\n      margin: 10,\n      height: 200,\n      backgroundColor: \"pink\",\n    },\n    titleBright: {\n      position: \"absolute\",\n      top: 30,\n      fontWeight: \"bold\",\n      color: \"white\",\n      width: \"70%\",\n    },\n\n    titleDark: {\n      position: \"absolute\",\n      top: 30,\n      fontWeight: \"bold\",\n      color: \"black\",\n      width: \"70%\",\n    },\n    button: {\n      position: \"absolute\",\n      bottom: 40,\n    },\n  })\n);\n\nexport default function DisplayCard(props: Props) {\n  const classes = useStyles();\n  const { image, title, subtitle, actionTitle, onClick, isBright } = props;\n\n  return (\n    <Card\n      elevation={5}\n      className={classes.card}\n      style={{\n        backgroundImage: `url(${image})`,\n      }}\n    >\n      <CardContent>\n        <div className={isBright ? classes.titleDark : classes.titleBright}>\n          <Row>\n            <span>{subtitle}</span>\n          </Row>\n          <Row>\n            <h2 style={{ color: isBright ? \"black\" : \"white\" }}>{title}</h2>\n          </Row>\n        </div>\n        <Button type=\"primary\" className={classes.button} onClick={onClick}>\n          {actionTitle}\n        </Button>\n      </CardContent>\n    </Card>\n  );\n}\n","import { Col, Row } from \"antd\";\nimport moment from \"moment\";\nimport React from \"react\";\nimport { Diary } from \"../models/diary\";\nimport DisplayCard from \"../share_components/DisplayCard\";\nimport { VideoDiaryContext } from \"../states/VideoDiaryState\";\nimport { split } from \"../utils/utils\";\n\nexport default function VideoDisplay() {\n  const { videos } = React.useContext(VideoDiaryContext);\n\n  return (\n    <Row>\n      {split(videos).map((v, i) => (\n        <VideoPanel diaries={v} reverse={i % 2 === 0} />\n      ))}\n    </Row>\n  );\n}\n\nfunction VideoPanel(props: { diaries: Diary[]; reverse: boolean }) {\n  const { diaries, reverse } = props;\n  const horizentalCard = () => {\n    return (\n      <Row>\n        <Col span={24}>\n          <DisplayCard\n            title={diaries[0].title}\n            subtitle={moment(diaries[0].date).format(\"YYYY-MM-DD\")}\n            actionTitle={\"Read\"}\n            onClick={() => {\n              //   history.push(\"/blog/post/\" + diaries[0].id);\n            }}\n            image={diaries[0].cover}\n            isBright={diaries[0].is_bright}\n          />\n        </Col>\n      </Row>\n    );\n  };\n\n  const verticalCards = () => (\n    <Row>\n      {diaries.slice(1).map((p, i) => {\n        return (\n          <Col span={12} key={`post-${i}`}>\n            <DisplayCard\n              title={p.title}\n              subtitle={moment(p.date).format(\"YYYY-MM-DD\")}\n              actionTitle={\"Read\"}\n              onClick={() => {\n                // history.push(\"/blog/post/\" + p.id);\n              }}\n              image={p.cover}\n              isBright={p.is_bright}\n            />\n          </Col>\n        );\n      })}\n    </Row>\n  );\n\n  return (\n    <Col xs={24} sm={24} md={12}>\n      {reverse ? verticalCards() : horizentalCard()}\n      {reverse ? horizentalCard() : verticalCards()}\n    </Col>\n  );\n}\n","import { makeStyles } from \"@material-ui/core\";\nimport { createStyles } from \"@material-ui/core\";\nimport { Backdrop, Theme } from \"@material-ui/core\";\nimport { Anchor, Col, Row, Spin, Typography } from \"antd\";\nimport { Content, Header } from \"antd/lib/layout/layout\";\nimport { useParams } from \"react-router\";\nimport React from \"react\";\nimport { VideoDiaryContext } from \"../states/VideoDiaryState\";\nimport LeftSider from \"./LeftSider\";\nimport VideoDisplay from \"./VideoPanel\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    content: {\n      [theme.breakpoints.up(\"md\")]: {\n        padding: \"20px 50px\",\n      },\n      padding: 0,\n    },\n  })\n);\n\nexport default function DiaryPage() {\n  const classes = useStyles();\n  const { fetchVideo, isLoading } = React.useContext(VideoDiaryContext);\n  const params = useParams<{ time?: string }>();\n\n  React.useEffect(() => {\n    fetchVideo(params.time);\n  }, [params]);\n\n  return (\n    <div style={{ overflowY: \"hidden\" }}>\n      <Content className={classes.content}>\n        <Row>\n          <Col md={3} sm={24} xs={24}>\n            <LeftSider />\n          </Col>\n          <Col md={21} sm={24} xs={24}>\n            <VideoDisplay />\n          </Col>\n        </Row>\n      </Content>\n      <Backdrop open={isLoading} style={{ color: \"#fff\", zIndex: 10000 }}>\n        <div\n          style={{\n            width: \"100%\",\n            height: \"100vh\",\n            display: \"flex\",\n            alignItems: \"center\",\n            justifyContent: \"center\",\n            alignContent: \"center\",\n          }}\n        >\n          <Spin size=\"large\" />\n        </div>\n      </Backdrop>\n    </div>\n  );\n}\n","/** @format */\n\nimport React, { useState } from \"react\";\nimport { Post } from \"../../models/post\";\nimport {\n  Card,\n  CardContent,\n  makeStyles,\n  Theme,\n  createStyles,\n  Fade,\n} from \"@material-ui/core\";\nimport { isBrightColor } from \"../../utils/utils\";\nimport { NavLink } from \"react-router-dom\";\nimport { Button, Row, Col } from \"antd\";\nimport DisplayCard from \"../../share_components/DisplayCard\";\nimport { useHistory } from \"react-router\";\n\ninterface Props {\n  reverse?: boolean;\n  posts: Post[];\n}\n\nconst useStyles = makeStyles((theme: Theme) => createStyles({}));\n\nexport default function CardPanel(props: Props) {\n  const { posts, reverse } = props;\n  const classes = useStyles();\n  const [inani, setIn] = useState(false);\n  const history = useHistory();\n  setTimeout(() => {\n    setIn(true);\n  }, 400);\n\n  const horizentalCard = () => {\n    const isBright =\n      posts[0].cover_color.length === 0\n        ? false\n        : isBrightColor(posts[0].cover_color[0]);\n    return (\n      <Row>\n        <Col span={24}>\n          <DisplayCard\n            title={posts[0].title}\n            subtitle={posts[0].post_category.category}\n            actionTitle={\"Read\"}\n            onClick={() => {\n              history.push(\"/blog/post/\" + posts[0].id);\n            }}\n            image={posts[0].image_url}\n            isBright={isBright}\n          />\n        </Col>\n      </Row>\n    );\n  };\n\n  const verticalCards = () => (\n    <Row>\n      {posts.slice(1).map((p, i) => {\n        const isBright =\n          p.cover_color.length === 0 ? false : isBrightColor(p.cover_color[0]);\n        return (\n          <Col span={12} key={`post-${i}`}>\n            <DisplayCard\n              title={p.title}\n              subtitle={p.post_category.category}\n              actionTitle={\"Read\"}\n              onClick={() => {\n                history.push(\"/blog/post/\" + p.id);\n              }}\n              image={p.image_url}\n              isBright={isBright}\n            />\n          </Col>\n        );\n      })}\n    </Row>\n  );\n  return (\n    <Fade in={inani} mountOnEnter>\n      <Col xs={24} sm={24} md={12}>\n        {reverse ? verticalCards() : horizentalCard()}\n        {reverse ? horizentalCard() : verticalCards()}\n      </Col>\n    </Fade>\n  );\n}\n","/** @format */\n\nimport React, { useContext, useState } from \"react\";\nimport { Post } from \"../../models/post\";\nimport {\n  makeStyles,\n  Theme,\n  createStyles,\n  Container,\n  Fade,\n} from \"@material-ui/core\";\nimport { PostContext } from \"../../states/PostState\";\nimport { drawerWidth, split } from \"../../utils/utils\";\nimport { Row, Button } from \"antd\";\nimport CardPanel from \"./CardPanel\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    content: {\n      [theme.breakpoints.up(\"sm\")]: {\n        marginLeft: drawerWidth + 30,\n        margin: 40,\n      },\n    },\n    divider: {\n      [theme.breakpoints.down(\"sm\")]: {\n        display: \"none\",\n      },\n    },\n    hrDivider: {\n      backgroundImage:\n        \"linear-gradient(to right, #333 10%, rgba(255, 255, 255, 0) 0%)\",\n      backgroundPosition: \"top\",\n      backgroundSize: \"10px 1px\",\n      backgroundRepeat: \"repeat-x\",\n    },\n  })\n);\n\nexport default function HomePost() {\n  const classes = useStyles();\n  const { posts, fetchNext, getPost, seletedCategory, nextURL } =\n    useContext(PostContext);\n  const [isLoading, setIsLoading] = useState(false);\n\n  return (\n    <div style={{ height: \"100vh\", overflow: \"scroll\" }}>\n      <Row className={classes.content}>\n        {split<Post>(posts).map((pl, index) => {\n          if (pl.length === 0) {\n            return <div></div>;\n          }\n          return <CardPanel posts={pl} reverse={index % 2 !== 0} />;\n        })}\n      </Row>\n      <Fade\n        in={nextURL !== undefined && nextURL != null}\n        mountOnEnter\n        unmountOnExit\n        timeout={100}\n      >\n        <Button\n          loading={isLoading}\n          type=\"primary\"\n          onClick={async () => {\n            setIsLoading(true);\n            await fetchNext();\n            setIsLoading(false);\n          }}\n        >\n          Load more\n        </Button>\n      </Fade>\n    </div>\n  );\n}\n","/** @format */\n\nimport React, { useContext } from \"react\";\nimport { makeStyles, Theme } from \"@material-ui/core/styles\";\nimport { PostContext } from \"../../states/PostState\";\nimport { Menu, Layout } from \"antd\";\nimport { useHistory, useLocation, useParams } from \"react-router\";\n\nconst { Sider } = Layout;\n\ninterface TabPanelProps {\n  category_id?: number;\n}\n\nconst useStyles = makeStyles((theme: Theme) => ({\n  root: {\n    width: \"100%\",\n    // flexGrow: 1,\n    // [theme.breakpoints.up(\"sm\")]: {\n    //   marginLeft: drawerWidth + 50\n    // },\n    // marginLeft: 10,\n    // marginTop: 20,\n    // backgroundColor: theme.palette.background.paper\n  },\n}));\n\nexport default function LeftSider() {\n  const classes = useStyles();\n  const history = useHistory();\n  const params = useParams<{ id?: string }>();\n  const postContext = useContext(PostContext);\n  const [selectedCategoryId, setSelectedCategoryId] =\n    React.useState<string>(\"0\");\n\n  React.useEffect(() => {\n    const categoryPromise = postContext.fetchCategories();\n    Promise.all([categoryPromise]);\n  }, []);\n\n  React.useEffect(() => {\n    const { id } = params;\n    let category = postContext.categories.find((c) => c.id.toString() === id);\n    if (category) {\n      setSelectedCategoryId(category.id.toString());\n    }\n    if (id === undefined) {\n      setSelectedCategoryId(\"0\");\n    }\n    postContext.fetchPosts(id);\n  }, [params, postContext.categories]);\n\n  return (\n    <Sider\n      width={200}\n      theme=\"light\"\n      style={{ paddingTop: 10 }}\n      breakpoint=\"md\"\n      collapsedWidth={0}\n    >\n      <Menu selectedKeys={[selectedCategoryId]} theme=\"light\">\n        <Menu.Item\n          key={0}\n          onClick={() => {\n            history.push(`/blog`);\n          }}\n        >\n          {\"All\"}\n        </Menu.Item>\n        {postContext.categories.map((c) => (\n          <Menu.Item\n            key={c.id}\n            onClick={() => {\n              history.push(`/blog/${c.id}`);\n            }}\n          >\n            {c.category}\n          </Menu.Item>\n        ))}\n      </Menu>\n    </Sider>\n  );\n}\n","export const config = {\n  headerHeight: 64,\n};\n","/** @format */\n\nimport React from \"react\";\nimport HomePost from \"./components/HomePost\";\nimport LeftSider from \"./components/LeftSider\";\nimport { NavLink, RouteComponentProps } from \"react-router-dom\";\nimport { PostContext } from \"../states/PostState\";\nimport { makeStyles, Theme, createStyles, Backdrop } from \"@material-ui/core\";\nimport { Layout, Spin } from \"antd\";\n\nimport { useRouteMatch, useParams } from \"react-router\";\nimport { config } from \"../../settings/config\";\n\nconst { Content } = Layout;\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    backdrop: {\n      zIndex: theme.zIndex.drawer + 1,\n      color: \"#fff\",\n    },\n  })\n);\n\nexport default function Homepage() {\n  const match = useRouteMatch();\n  const { id } = useParams<{ id: string }>();\n\n  React.useEffect(() => {\n    document.title = \"Blog\";\n  }, []);\n\n  const { isLoading } = React.useContext(PostContext);\n  const classes = useStyles();\n\n  return (\n    <Layout\n      style={{\n        height: `calc(100vh - ${config.headerHeight}px)`,\n        overflowY: \"hidden\",\n      }}\n    >\n      <Layout style={{ overflow: \"hidden\" }}>\n        <LeftSider />\n        <Layout style={{ padding: 0, overflow: \"hidden\" }}>\n          <Content\n            className=\"site-layout-background\"\n            style={{\n              margin: 0,\n              minHeight: 280,\n              overflow: \"hidden\",\n              padding: 0,\n            }}\n          >\n            <Backdrop open={isLoading} style={{ color: \"#fff\", zIndex: 10000 }}>\n              <div\n                style={{\n                  width: \"100%\",\n                  height: \"100vh\",\n                  display: \"flex\",\n                  alignItems: \"center\",\n                  justifyContent: \"center\",\n                  alignContent: \"center\",\n                }}\n              >\n                <Spin size=\"large\" />\n              </div>\n            </Backdrop>\n            <HomePost />\n          </Content>\n        </Layout>\n      </Layout>\n    </Layout>\n  );\n}\n","/** @format */\n\nimport React from \"react\";\nimport { Color, Category } from \"../models/post\";\nimport { isBrightColor } from \"../utils/utils\";\nimport { makeStyles, Theme, createStyles } from \"@material-ui/core\";\nimport classes from \"*.module.css\";\nimport moment from \"moment\";\nimport { Typography, Divider } from \"antd\";\n\nconst { Title, Paragraph, Text, Link } = Typography;\n\ninterface Props {\n  title: string;\n  author: string;\n  category: Category;\n  posted_time: string;\n  cover_color: Color[];\n}\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    titleBright: {\n      fontWeight: \"bold\",\n      color: \"white\",\n      width: \"100%\",\n      height: \"100%\",\n      padding: 10,\n    },\n\n    titleDark: {\n      fontWeight: \"bold\",\n      color: \"black\",\n      width: \"100%\",\n      padding: 10,\n    },\n  })\n);\n\nexport default function PostTitle(props: Props) {\n  const isBright =\n    props.cover_color.length === 0\n      ? false\n      : isBrightColor(props.cover_color[0]);\n\n  const classes = useStyles();\n  return (\n    <div style={{ zIndex: 10, padding: 15 }}>\n      <Title\n        style={{\n          fontSize: \"3em\",\n          fontWeight: \"normal\",\n          marginBottom: 0,\n          marginTop: \"3em\",\n        }}\n      >\n        <div>\n          <div className={classes.titleBright} id=\"post-title\">\n            {props.title}\n          </div>\n          <p id=\"post-detail\" className={classes.titleDark}>\n            {props.author} | {props.category.category} |\n            {moment(props.posted_time).format(\"YYYY-MM-DD\")}\n          </p>\n        </div>\n      </Title>\n    </div>\n  );\n}\n","import React, { ReactElement } from \"react\";\nimport { RawDraftContentState, RawDraftContentBlock } from \"draft-js\";\nimport TreeItem from \"@material-ui/lab/TreeItem\";\nimport TreeView from \"@material-ui/lab/TreeView\";\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\nimport ChevronRightIcon from \"@material-ui/icons/ChevronRight\";\nimport { Color } from \"./post\";\nimport { isBrightColor } from \"../utils/utils\";\n\n/**\n * Draft js table of content element\n */\nexport class ContentElement {\n  id: number;\n  children: ContentElement[];\n  content?: string;\n  level: number;\n\n  constructor(\n    level: number,\n    children: ContentElement[],\n    id: number,\n    content?: string\n  ) {\n    this.children = children;\n    this.content = content;\n    this.level = level;\n    this.id = id;\n  }\n\n  /**\n   * Add child to current element tree.\n   *\n   * if element's level > last child's level, add to child's children.\n   * Otherwise, add to this children\n   *\n   * @param element Content element\n   */\n  addChild(element: ContentElement) {\n    if (this.children.length > 0) {\n      let lastElement = this.children[this.children.length - 1];\n      if (lastElement.level < element.level) {\n        lastElement.addChild(element);\n        return;\n      }\n    }\n    this.children.push(element);\n  }\n\n  /**\n   * Return root element and construct a tree\n   */\n  static constructElementTree(content: RawDraftContentState): ContentElement {\n    let c: ContentElement[] = [];\n    let id = 1;\n\n    for (let element of content.blocks) {\n      if (element.type.includes(\"header\")) {\n        let level = ContentElement.getHeaderValue(element);\n        if (c.length > 0) {\n          let lastElement = c[c.length - 1];\n          if (lastElement.level < level) {\n            lastElement.addChild(\n              new ContentElement(level, [], id, element.text)\n            );\n            continue;\n          }\n        }\n        c.push(new ContentElement(level, [], id, element.text));\n      }\n      id += 1;\n    }\n\n    let root = new ContentElement(0, c, 0, \"root\");\n    return root;\n  }\n\n  /**\n   * Return header value. For example, header-one will output 1\n   */\n  static getHeaderValue(block: RawDraftContentBlock): number {\n    switch (block.type) {\n      case \"header-two\":\n        return 2;\n      case \"header-three\":\n        return 3;\n\n      case \"header-four\":\n        return 4;\n\n      case \"header-five\":\n        return 5;\n\n      case \"header-six\":\n        return 6;\n\n      default:\n        return 1;\n    }\n  }\n\n  render(color: Color[]): ReactElement {\n    const isBright = color.length === 0 ? false : isBrightColor(color[0]);\n\n    const content: ReactElement = (\n      <TreeItem\n        nodeId={`${this.id}`}\n        label={\n          <h4 style={{ color: isBright ? \"black\" : \"white\" }}>\n            {this.content}\n          </h4>\n        }\n      >\n        {this.children.map(c => c.render(color))}\n      </TreeItem>\n    );\n\n    if (this.id === 0) {\n      return (\n        <TreeView\n          defaultCollapseIcon={<ExpandMoreIcon />}\n          defaultExpandIcon={<ChevronRightIcon />}\n        >\n          {this.children.map(c => c.render(color))}\n        </TreeView>\n      );\n    }\n    return content;\n  }\n}\n","/** @format */\n\nimport React from \"react\";\nimport { ContentBlock } from \"draft-js\";\nimport {\n  Tooltip,\n  Typography,\n  CircularProgress,\n  withStyles,\n  Theme,\n  LinearProgress,\n  Collapse,\n} from \"@material-ui/core\";\nimport axios from \"axios\";\n\ninterface LinkProps {\n  title: string;\n  image?: string;\n  summary?: string;\n  link: string;\n}\n\nexport function findLinkEntities(\n  contentBlock: ContentBlock,\n  callback: any,\n  contentState: any\n) {\n  contentBlock.findEntityRanges((character: any) => {\n    const entityKey = character.getEntity();\n    return (\n      entityKey !== null &&\n      contentState.getEntity(entityKey).getType() === \"LINK\"\n    );\n  }, callback);\n}\n\nconst HtmlTooltip = withStyles((theme: Theme) => ({\n  tooltip: {\n    backgroundColor: \"#f5f5f9\",\n    color: \"rgba(0, 0, 0, 0.87)\",\n    width: 300,\n    fontSize: theme.typography.pxToRem(12),\n    border: \"1px solid #dadde9\",\n  },\n}))(Tooltip);\n\nexport const Link = (props: any) => {\n  const entityData: LinkProps = props.contentState\n    .getEntity(props.entityKey)\n    .getData().url;\n  console.log(entityData);\n\n  return (\n    <HtmlTooltip\n      title={\n        <React.Fragment>\n          <Typography variant=\"h6\">{entityData?.title ?? \"No data\"}</Typography>\n          {entityData?.image && (\n            <img\n              src={entityData?.image}\n              alt={\"\"}\n              height={200}\n              crossOrigin={\"anonymous\"}\n            />\n          )}\n          <Typography>{entityData?.summary}</Typography>\n          <span>{entityData?.link}</span>\n        </React.Fragment>\n      }\n    >\n      <a href={entityData.link} target=\"_blank\">\n        {props.children}\n      </a>\n    </HtmlTooltip>\n  );\n};\n","/** @format */\n\nimport React from \"react\";\nimport { ContentBlock } from \"draft-js\";\nimport Lightbox from \"react-image-lightbox\";\nimport { useTheme } from \"@material-ui/core/styles\";\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\nimport { Fade, CircularProgress } from \"@material-ui/core\";\n\nexport function findImageEntities(\n  contentBlock: ContentBlock,\n  callback: any,\n  contentState: any\n) {\n  contentBlock.findEntityRanges((character: any) => {\n    const entityKey = character.getEntity();\n    return (\n      entityKey !== null &&\n      contentState.getEntity(entityKey).getType() === \"image\"\n    );\n  }, callback);\n}\n\nexport const ImageComponent = (props: any) => {\n  const theme = useTheme();\n  const matches = useMediaQuery(theme.breakpoints.up(\"md\"));\n  const [show, setShow] = React.useState(false);\n  const [isLoading, setLoading] = React.useState(true);\n  const { alignment, width, src, description } = props.contentState\n    .getEntity(props.entityKey)\n    .getData();\n\n  let style: React.CSSProperties = {\n    cursor: \"grab\",\n  };\n\n  if (matches) {\n    style = {\n      ...style,\n      maxWidth: `${width}%`,\n    };\n  } else {\n    style = { ...style, width: \"100%\" };\n  }\n\n  if (alignment === \"left\") {\n    style = { ...style, float: \"left\" };\n  } else if (alignment === \"right\") {\n    style = { ...style, float: \"right\" };\n  } else if (alignment === \"center\") {\n    style = {\n      ...style,\n      marginLeft: \"auto\",\n      marginRight: \"auto\",\n      display: \"block\",\n    };\n  }\n\n  if (isLoading) {\n    style = {\n      ...style,\n      display: \"hidden\",\n    };\n  }\n\n  return (\n    <React.Fragment>\n      <Fade in={isLoading}>\n        <div\n          style={{\n            display: \"flex\",\n            position: \"absolute\",\n            left: \"50%\",\n            top: \"50%\",\n            marginRight: \"-50%\",\n            transform: \"translate(-50%, -50%)\",\n          }}\n        >\n          <CircularProgress />\n        </div>\n      </Fade>\n\n      <div style={style}>\n        <img\n          style={style}\n          src={src}\n          onClick={() => setShow(true)}\n          onError={() => setLoading(false)}\n          onLoad={() => {\n            setLoading(false);\n          }}\n        />\n        <div style={{ display: \"flex\" }}>\n          <figcaption\n            style={{\n              marginLeft: \"auto\",\n              marginRight: \"auto\",\n              fontSize: 16,\n              color: \"grey\",\n            }}\n          >\n            {description}\n          </figcaption>\n        </div>\n      </div>\n      {show && (\n        <Lightbox\n          mainSrc={src}\n          onCloseRequest={() => {\n            setShow(false);\n          }}\n        />\n      )}\n    </React.Fragment>\n  );\n};\n","/** @format */\n\nimport React from \"react\";\nimport { ContentBlock } from \"draft-js\";\nimport AudioPlayer from \"react-h5-audio-player\";\nimport { useTheme } from \"@material-ui/core/styles\";\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\nimport Link from \"@material-ui/core/Link\";\nimport Typography from \"@material-ui/core/Typography\";\n\nexport function findAudioEntities(\n  contentBlock: ContentBlock,\n  callback: any,\n  contentState: any\n) {\n  contentBlock.findEntityRanges((character: any) => {\n    const entityKey = character.getEntity();\n    return (\n      entityKey !== null &&\n      contentState.getEntity(entityKey).getType() === \"audio\"\n    );\n  }, callback);\n}\n\nexport const AudioComponent = (props: any) => {\n  const { src } = props.contentState.getEntity(props.entityKey).getData();\n\n  return (\n    <React.Fragment>\n      <AudioPlayer src={src} />\n      <Typography>\n        <b>Audio Src:</b> <Link>{decodeURIComponent(src)}</Link>\n      </Typography>\n    </React.Fragment>\n  );\n};\n","/** @format */\n\nimport React from \"react\";\nimport { ContentBlock } from \"draft-js\";\nimport {\n  Tooltip,\n  Typography,\n  CircularProgress,\n  withStyles,\n  Theme,\n  LinearProgress,\n  Collapse,\n  ClickAwayListener,\n} from \"@material-ui/core\";\nimport axios from \"axios\";\nimport { DetailSettings } from \"../../models/post\";\n\nexport function findPostSettingsEntities(\n  contentBlock: ContentBlock,\n  callback: any,\n  contentState: any\n) {\n  contentBlock.findEntityRanges((character: any) => {\n    const entityKey = character.getEntity();\n    return (\n      entityKey !== null &&\n      contentState.getEntity(entityKey).getType() === \"POST-SETTINGS\"\n    );\n  }, callback);\n}\n\nconst HtmlTooltip = withStyles((theme: Theme) => ({\n  tooltip: {\n    backgroundColor: \"#f5f5f9\",\n    color: \"rgba(0, 0, 0, 0.87)\",\n    width: 300,\n    fontSize: theme.typography.pxToRem(12),\n    border: \"1px solid #dadde9\",\n  },\n}))(Tooltip);\n\nexport const PostSettingsComponent = (props: any) => {\n  const entity = props.contentState.getEntity(props.entityKey);\n  const { settings } = props;\n  const [detail, setDetail] = React.useState<DetailSettings>();\n  const entityData: DetailSettings | undefined = entity\n    ? entity.get(\"data\")\n    : undefined;\n  const [open, setOpen] = React.useState(false);\n\n  React.useEffect(() => {\n    if (settings) {\n      for (let s of settings) {\n        for (let d of s.detailSettings) {\n          if (d.id === entityData?.id) {\n            setDetail(d);\n          }\n        }\n      }\n    }\n  }, [settings]);\n  return (\n    <ClickAwayListener onClickAway={() => setOpen(false)}>\n      <HtmlTooltip\n        open={open}\n        title={\n          <div>\n            <Typography variant=\"h6\">{detail?.name}</Typography>\n            <Typography>{detail?.description}</Typography>\n          </div>\n        }\n      >\n        <span\n          onClick={() => setOpen(true)}\n          onMouseEnter={() => setOpen(true)}\n          onMouseLeave={() => setOpen(false)}\n          style={{ cursor: \"pointer\", color: \"blue\" }}\n        >\n          {props.children}\n        </span>\n      </HtmlTooltip>\n    </ClickAwayListener>\n  );\n};\n","import {CSSProperties} from \"@material-ui/core/styles/withStyles\";\n\nexport const styleMap: { [name: string]: CSSProperties } = {\n    \"#f44336\": {\n        color: \"#f44336\"\n    },\n    \"#e91e63\": {\n        color: \"#e91e63\"\n    },\n    \"#9c27b0\": {\n        color: \"#9c27b0\"\n    },\n    \"#673ab7\": {\n        color: \"#673ab7\"\n    },\n    \"#3f51b5\": {\n        color: \"#3f51b5\"\n    },\n    \"#2196f3\": {\n        color: \"#2196f3\"\n    },\n    \"#03a9f4\": {\n        color: \"#03a9f4\"\n    },\n    \"#00bcd4\": {\n        color: \"#00bcd4\"\n    },\n    \"#009688\": {\n        color: \"#009688\",\n    },\n    \"#4caf50\": {\n        color: \"#4caf50\",\n    },\n    \"#8bc34a\": {\n        color: \"#8bc34a\",\n    },\n    \"#cddc39\": {\n        color: \"#cddc39\"\n    },\n    \"#ffeb3b\": {\n        color: \"#ffeb3b\"\n    },\n    \"#ffc107\": {\n        color: \"#ffc107\"\n    },\n    \"#ff9800\": {\n        color: \"#ff9800\",\n    },\n    \"#ff5722\": {\n        color: \"#ff5722\"\n    },\n    \"#795548\": {\n        color: \"#795548\"\n    },\n    \"#607d8b\": {\n        color: \"#607d8b\"\n    }\n}","/** @format */\n\nimport React from \"react\";\nimport { ContentBlock } from \"draft-js\";\nimport AudioPlayer from \"react-h5-audio-player\";\nimport { useTheme } from \"@material-ui/core/styles\";\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\nimport Link from \"@material-ui/core/Link\";\nimport Typography from \"@material-ui/core/Typography\";\n\nexport function findVideoEntities(\n  contentBlock: ContentBlock,\n  callback: any,\n  contentState: any\n) {\n  contentBlock.findEntityRanges((character: any) => {\n    const entityKey = character.getEntity();\n    return (\n      entityKey !== null &&\n      contentState.getEntity(entityKey).getType() === \"video\"\n    );\n  }, callback);\n}\n\nexport const VideoComponent = (props: any) => {\n  const { src, captions, description } = props.contentState\n    .getEntity(props.entityKey)\n    .getData();\n\n  return (\n    <React.Fragment>\n      <video\n        controls\n        src={src}\n        style={{ width: \"100%\" }}\n        crossOrigin=\"use-credentials\"\n      >\n        {captions.map((c: any, i: number) => (\n          <track key={i} src={c.src} label={c.lang} />\n        ))}\n      </video>\n      <div style={{ display: \"flex\" }}>\n        <figcaption\n          style={{\n            marginLeft: \"auto\",\n            marginRight: \"auto\",\n            fontSize: 16,\n            color: \"grey\",\n          }}\n        >\n          {description}\n        </figcaption>\n      </div>\n    </React.Fragment>\n  );\n};\n","/** @format */\n\nimport React from \"react\";\nimport { ContentBlock } from \"draft-js\";\nimport AudioPlayer from \"react-h5-audio-player\";\nimport { makeStyles, useTheme } from \"@material-ui/core/styles\";\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\nimport Link from \"@material-ui/core/Link\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { Author, Post } from \"../../models/post\";\nimport { Card, CardContent, CardMedia, IconButton } from \"@material-ui/core\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n  },\n  details: {\n    display: \"flex\",\n    flexDirection: \"column\",\n  },\n  content: {\n    flex: \"1 0 auto\",\n  },\n  cover: {\n    width: 151,\n  },\n  controls: {\n    display: \"flex\",\n    alignItems: \"center\",\n    paddingLeft: theme.spacing(1),\n    paddingBottom: theme.spacing(1),\n  },\n  playIcon: {\n    height: 38,\n    width: 38,\n  },\n}));\n\nexport function findInternalLinkEntities(\n  contentBlock: ContentBlock,\n  callback: any,\n  contentState: any\n) {\n  contentBlock.findEntityRanges((character: any) => {\n    const entityKey = character.getEntity();\n    return (\n      entityKey !== null &&\n      contentState.getEntity(entityKey).getType() === \"internallink\"\n    );\n  }, callback);\n}\n\nexport const InternalLinkComponent = (props: any) => {\n  const classes = useStyles();\n  const { title, id, author, image_url } = props.contentState\n    .getEntity(props.entityKey)\n    .getData() as Post;\n\n  return (\n    <Card\n      className={classes.root}\n      variant=\"outlined\"\n      style={{ cursor: \"grab\" }}\n      onClick={() => {\n        window.location.href = \"#/post/\" + id;\n      }}\n    >\n      <CardMedia className={classes.cover} image={image_url} />\n      <div className={classes.details}>\n        <CardContent className={classes.content}>\n          <Typography component=\"h5\" variant=\"h5\">\n            {title}\n          </Typography>\n          <Typography variant=\"subtitle1\" color=\"textSecondary\">\n            {author.username}\n          </Typography>\n        </CardContent>\n      </div>\n    </Card>\n  );\n};\n","/** @format */\n\nimport React, { Component, useState, useRef } from \"react\";\nimport PostTitle from \"./PostTitle\";\nimport { NavLink } from \"react-router-dom\";\nimport { Post, Color, Category } from \"../models/post\";\n\nimport { makeStyles } from \"@material-ui/styles\";\nimport { Theme, createStyles, Paper, Grid } from \"@material-ui/core\";\nimport { convertFromRaw, EditorState, CompositeDecorator } from \"draft-js\";\nimport Editor, { composeDecorators } from \"draft-js-plugins-editor\";\n/// plugins\nimport createInlineToolbarPlugin from \"draft-js-inline-toolbar-plugin\";\n//@ts-ignore\nimport createSideToolbarPlugin from \"draft-js-side-toolbar-plugin\";\nimport createImagePlugin from \"draft-js-image-plugin\";\nimport createBlockDndPlugin from \"draft-js-drag-n-drop-plugin\";\nimport createFocusPlugin from \"draft-js-focus-plugin\";\n//@ts-ignore\nimport createAlignmentPlugin from \"draft-js-alignment-plugin\";\nimport createResizeablePlugin from \"draft-js-resizeable-plugin\";\n\n//@ts-ignore\nimport \"draft-js/dist/Draft.css\";\nimport \"draft-js-inline-toolbar-plugin/lib/plugin.css\";\nimport \"draft-js-side-toolbar-plugin/lib/plugin.css\";\nimport \"draft-js-alignment-plugin/lib/plugin.css\";\nimport \"draft-js-linkify-plugin/lib/plugin.css\";\n\nimport { ContentElement } from \"../models/tableOfContent\";\nimport { findLinkEntities, Link } from \"./plugins/linkPlugins\";\nimport { findImageEntities, ImageComponent } from \"./plugins/imagePlugins\";\nimport { findAudioEntities, AudioComponent } from \"./plugins/audioPlugins\";\nimport {\n  findPostSettingsEntities,\n  PostSettingsComponent,\n} from \"./plugins/postSettingsPlugins\";\nimport { styleMap } from \"./plugins/stylemap\";\nimport { findVideoEntities, VideoComponent } from \"./plugins/videoPlugins\";\nimport {\n  findInternalLinkEntities,\n  InternalLinkComponent,\n} from \"./plugins/internalLink\";\n// endplugins\n\nconst resizeablePlugin = createResizeablePlugin();\nconst inlineToolbarPlugin = createInlineToolbarPlugin();\nconst alignmentPlugin = createAlignmentPlugin();\nconst sideToolbarPlugin = createSideToolbarPlugin({\n  position: \"right\",\n});\nconst focusPlugin = createFocusPlugin();\nconst blockDndPlugin = createBlockDndPlugin();\nconst decorator = composeDecorators(\n  focusPlugin.decorator,\n  blockDndPlugin.decorator,\n  alignmentPlugin.decorator,\n  resizeablePlugin.decorator\n);\nconst imagePlugin = createImagePlugin({ decorator });\n\nconst { AlignmentTool } = alignmentPlugin;\n\ninterface ContainerProps {\n  title: string;\n  author: string;\n  imageSrc?: string;\n  cover_color: Color[];\n  tocElement: ContentElement;\n  posted_time: string;\n  category: Category;\n}\n\ninterface LayoutProps {\n  post: Post;\n}\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    body: {\n      backgroundRepeat: \"no-repeat\",\n      backgroundSize: \"cover\",\n      margin: 10,\n      [theme.breakpoints.up(\"sm\")]: {\n        padding: \"0px\",\n      },\n      height: 200,\n      padding: 0,\n      backgroundColor: \"pink\",\n    },\n    container: {\n      overflow: \"hidden\",\n      overflowX: \"hidden\",\n      height: \"100%\",\n      [theme.breakpoints.down(\"sm\")]: {\n        overflow: \"scroll\",\n      },\n    },\n    content: {\n      overflowX: \"hidden\",\n      [theme.breakpoints.down(\"sm\")]: {\n        overflow: \"hidden\",\n        maxHeight: \"100%\",\n        padding: \"5px\",\n      },\n      overflowY: \"scroll\",\n      maxHeight: \"calc(100vh - 69px)\",\n      padding: \"5px\",\n    },\n    cover: {\n      height: \"100vh\",\n      width: \"100%\",\n    },\n    titleContainer: {\n      height: \"100%\",\n      backgroundRepeat: \"no-repeat\",\n      backgroundSize: \"cover\",\n      backgroundPosition: \"center\",\n      display: \"block\",\n    },\n    tableOfContent: {\n      marginLeft: 40,\n    },\n  })\n);\n\nfunction TitleWithCover(props: ContainerProps) {\n  const classes = useStyles();\n  return (\n    <div\n      className={classes.titleContainer}\n      style={{\n        backgroundImage: `url(${props.imageSrc})`,\n      }}\n    >\n      <PostTitle\n        title={props.title}\n        author={props.author}\n        cover_color={props.cover_color}\n        posted_time={props.posted_time}\n        category={props.category}\n      />\n      <div className={classes.tableOfContent} id=\"toc\">\n        {props.tocElement.render(props.cover_color)}\n      </div>\n    </div>\n  );\n}\n\nfunction PostLayout(props: LayoutProps) {\n  const linkDecorator = new CompositeDecorator([\n    {\n      strategy: findInternalLinkEntities,\n      component: InternalLinkComponent,\n    },\n    {\n      strategy: findVideoEntities,\n      component: VideoComponent,\n    },\n    {\n      strategy: findLinkEntities,\n      component: Link,\n    },\n    {\n      strategy: findImageEntities,\n      component: ImageComponent,\n    },\n    {\n      strategy: findAudioEntities,\n      component: AudioComponent,\n    },\n    {\n      strategy: findPostSettingsEntities,\n      component: PostSettingsComponent,\n      props: props.post.settings,\n    },\n  ]);\n  const classes = useStyles();\n  const [height, setHeight] = useState(window.innerHeight);\n\n  React.useEffect(() => {\n    window.addEventListener(\"resize\", (ev) => {\n      setHeight(window.innerHeight);\n    });\n  }, []);\n\n  return (\n    <Grid container className={classes.container}>\n      <Grid item md={6} className={classes.cover}>\n        <TitleWithCover\n          category={props.post.post_category}\n          tocElement={ContentElement.constructElementTree(\n            JSON.parse(props.post.content)\n          )}\n          title={props.post.title}\n          author={props.post.author.username}\n          imageSrc={props.post.image_url}\n          cover_color={props.post.cover_color}\n          posted_time={props.post.posted_time}\n        />\n      </Grid>\n      <Grid item md={6} className={classes.content}>\n        <div style={{ zIndex: 10 }}>\n          <Editor\n            blockStyleFn={(block) => {\n              let type = block.getType();\n              if (type === \"unstyled\") {\n                return \"text\";\n              }\n              return \"\";\n            }}\n            customStyleMap={styleMap}\n            onChange={(e) => {}}\n            readOnly\n            editorState={EditorState.createWithContent(\n              convertFromRaw(JSON.parse(props.post.content)),\n              linkDecorator\n            )}\n            plugins={[\n              inlineToolbarPlugin,\n              sideToolbarPlugin,\n              blockDndPlugin,\n              focusPlugin,\n              resizeablePlugin,\n            ]}\n          >\n            <AlignmentTool />\n          </Editor>\n        </div>\n      </Grid>\n    </Grid>\n  );\n}\nexport default PostLayout;\n","/** @format */\n\nimport React, { useState } from \"react\";\nimport { RouteComponentProps } from \"react-router-dom\";\nimport { getURL } from \"../utils/utils\";\nimport { Post } from \"../models/post\";\nimport { Helmet } from \"react-helmet\";\nimport axios from \"axios\";\nimport PostLayout from \"./PostLayout\";\nimport { Fade, Theme } from \"@material-ui/core\";\nimport { useParams } from \"react-router\";\nimport { Row, Col, Skeleton } from \"antd\";\nimport \"./post.css\";\nimport \"draft-js/dist/Draft.css\";\nimport { createStyles, makeStyles } from \"@material-ui/core\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    container: {\n      [theme.breakpoints.up(\"sm\")]: {\n        height: \"calc(100vh - 64px)\",\n      },\n      [theme.breakpoints.down(\"sm\")]: {\n        height: \"100%\",\n      },\n    },\n    loadingCard: { marginTop: 20, width: \"100%\" },\n    innerContainer: {\n      width: \"100%\",\n      height: \"100%\",\n    },\n  })\n);\n\nfunction LoadingCard() {\n  const classes = useStyles();\n  return (\n    <div className={classes.loadingCard}>\n      <Row>\n        <Col span={12}>\n          {Array.from({ length: 5 }, (v, k) => k + 1).map((i) => (\n            <Skeleton></Skeleton>\n          ))}\n        </Col>\n        <Col span={12}>\n          <Skeleton></Skeleton>\n        </Col>\n      </Row>\n    </div>\n  );\n}\n\nexport default function PostDetail() {\n  const [post, setPost] = useState<Post>();\n  const { id } = useParams<{ id: string }>();\n  const classes = useStyles();\n\n  React.useEffect(() => {\n    const url = getURL(`post/${id}/`);\n    axios\n      .get(url)\n      .then((res) => {\n        let post: Post = res.data;\n        post.settings = JSON.parse(post.settings as string);\n\n        setPost(post);\n        document.title = res.data.title;\n      })\n      .catch((err) => alert(`Error: ${err}`));\n  }, [id]);\n\n  return (\n    <div className={classes.container}>\n      <Helmet>\n        <link property=\"apple-touch-icon\" href={post?.image_url} />\n        <meta property=\"og:title\" content={post?.title} />\n        <meta property=\"og:image\" content={post?.image_url} />\n      </Helmet>\n      <Fade in={post !== undefined} mountOnEnter>\n        <div className={classes.innerContainer}>\n          {post && <PostLayout post={post}></PostLayout>}\n        </div>\n      </Fade>\n      <Fade in={post === undefined} unmountOnExit mountOnEnter>\n        <LoadingCard></LoadingCard>\n      </Fade>\n    </div>\n  );\n}\n","\nimport React from 'react';\nimport { Button } from 'antd';\n\nexport const isImg = /^http(s)?:\\/\\/([\\w-]+\\.)+[\\w-]+(\\/[\\w-./?%&=]*)?/;\nexport const getChildrenToRender = (item, i) => {\n  let tag = item.name.indexOf('title') === 0 ? 'h1' : 'div';\n  tag = item.href ? 'a' : tag;\n  let children = typeof item.children === 'string' && item.children.match(isImg)\n    ? React.createElement('img', { src: item.children, alt: 'img' })\n    : item.children;\n  if (item.name.indexOf('button') === 0 && typeof item.children === 'object') {\n    children = React.createElement(Button, {\n      ...item.children\n    });\n  }\n  return React.createElement(tag, { key: i.toString(), ...item }, children);\n};\n","import React from 'react';\nimport QueueAnim from 'rc-queue-anim';\nimport { Row, Col } from 'antd';\nimport OverPack from 'rc-scroll-anim/lib/ScrollOverPack';\nimport { getChildrenToRender } from './utils';\n\nclass Content extends React.PureComponent {\n  render() {\n    const { dataSource, isMobile, ...props } = this.props;\n    const {\n      wrapper,\n      titleWrapper,\n      page,\n      OverPack: overPackData,\n      childWrapper,\n    } = dataSource;\n    return (\n      <div {...props} {...wrapper}>\n        <div {...page}>\n          <div {...titleWrapper}>\n            {titleWrapper.children.map(getChildrenToRender)}\n          </div>\n          <OverPack {...overPackData}>\n            <QueueAnim\n              type=\"bottom\"\n              key=\"block\"\n              leaveReverse\n              component={Row}\n              componentProps={childWrapper}\n            >\n              {childWrapper.children.map((block, i) => {\n                const { children: item, ...blockProps } = block;\n                return (\n                  <Col key={i.toString()} {...blockProps}>\n                    <div {...item}>\n                      {item.children.map(getChildrenToRender)}\n                    </div>\n                  </Col>\n                );\n              })}\n            </QueueAnim>\n          </OverPack>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Content;\n","import React from 'react';\nimport QueueAnim from 'rc-queue-anim';\nimport TweenOne from 'rc-tween-one';\nimport { Row, Col } from 'antd';\nimport OverPack from 'rc-scroll-anim/lib/ScrollOverPack';\n\nfunction Content1(props) {\n  const { ...tagProps } = props;\n  const { dataSource, isMobile } = tagProps;\n  delete tagProps.dataSource;\n  delete tagProps.isMobile;\n  const animType = {\n    queue: isMobile ? 'bottom' : 'right',\n    one: isMobile\n      ? {\n          scaleY: '+=0.3',\n          opacity: 0,\n          type: 'from',\n          ease: 'easeOutQuad',\n        }\n      : {\n          x: '-=30',\n          opacity: 0,\n          type: 'from',\n          ease: 'easeOutQuad',\n        },\n  };\n  return (\n    <div {...tagProps} {...dataSource.wrapper}>\n      <OverPack {...dataSource.OverPack} component={Row}>\n        <TweenOne\n          key=\"img\"\n          animation={animType.one}\n          resetStyle\n          {...dataSource.imgWrapper}\n          component={Col}\n          componentProps={{\n            md: dataSource.imgWrapper.md,\n            xs: dataSource.imgWrapper.xs,\n          }}\n        >\n          <span {...dataSource.img}>\n            <img src={dataSource.img.children} width=\"100%\" alt=\"img\" />\n          </span>\n        </TweenOne>\n        <QueueAnim\n          key=\"text\"\n          type={animType.queue}\n          leaveReverse\n          ease={['easeOutQuad', 'easeInQuad']}\n          {...dataSource.textWrapper}\n          component={Col}\n          componentProps={{\n            md: dataSource.textWrapper.md,\n            xs: dataSource.textWrapper.xs,\n          }}\n        >\n          <h2 key=\"h1\" {...dataSource.title}>\n            {dataSource.title.children}\n          </h2>\n          <div key=\"p\" {...dataSource.content}>\n            {dataSource.content.children}\n          </div>\n        </QueueAnim>\n      </OverPack>\n    </div>\n  );\n}\n\nexport default Content1;\n","/* eslint no-undef: 0 */\n/* eslint arrow-parens: 0 */\nimport React from 'react';\nimport { enquireScreen } from 'enquire-js';\n\nimport Content0 from './Content0';\nimport Content1 from './Content1';\nimport Content3 from './Content3';\nimport Footer0 from './Footer0';\n\nimport {\n  Banner00DataSource,\n  Content00DataSource,\n  Content10DataSource,\n  Content30DataSource,\n  Footer00DataSource,\n} from './data.source';\nimport './less/antMotionStyle.less';\nimport { Banner0 } from './Banner0';\n\n\nlet isMobile;\nenquireScreen((b) => {\n  isMobile = b;\n});\n\nconst { location = {} } = typeof window !== 'undefined' ? window : {};\n\nexport class WelcomPage extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isMobile,\n      show: !location.port, // 如果不是 dva 2.0 请删除\n    };\n  }\n\n  componentDidMount() {\n    // 适配手机屏幕;\n    enquireScreen((b) => {\n      this.setState({ isMobile: !!b });\n    });\n    // dva 2.0 样式在组件渲染之后动态加载，导致滚动组件不生效；线上不影响；\n    /* 如果不是 dva 2.0 请删除 start */\n    if (location.port) {\n      // 样式 build 时间在 200-300ms 之间;\n      setTimeout(() => {\n        this.setState({\n          show: true,\n        });\n      }, 500);\n    }\n    /* 如果不是 dva 2.0 请删除 end */\n  }\n\n  render() {\n    const children = [\n \n      <Banner0\n        id=\"Banner0_0\"\n        key=\"Banner0_0\"\n        dataSource={Banner00DataSource}\n        isMobile={this.state.isMobile}\n      />,\n      <Content0\n        id=\"Content0_0\"\n        key=\"Content0_0\"\n        dataSource={Content00DataSource}\n        isMobile={this.state.isMobile}\n      />,\n     \n      <Content3\n        id=\"Content3_0\"\n        key=\"Content3_0\"\n        dataSource={Content30DataSource}\n        isMobile={this.state.isMobile}\n      />,\n\n      <Footer0\n        id=\"Footer0_0\"\n        key=\"Footer0_0\"\n        dataSource={Footer00DataSource}\n        isMobile={this.state.isMobile}\n      />,\n    ];\n    return (\n      <div\n        className=\"templates-wrapper\"\n        ref={(d) => {\n          this.dom = d;\n        }}\n      >\n        {/* 如果不是 dva 2.0 替换成 {children} start */}\n        {this.state.show && children}\n        {/* 如果不是 dva 2.0 替换成 {children} end */}\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport QueueAnim from 'rc-queue-anim';\nimport TweenOne from 'rc-tween-one';\nimport { Row, Col } from 'antd';\nimport OverPack from 'rc-scroll-anim/lib/ScrollOverPack';\nimport { getChildrenToRender } from './utils';\n\nclass Content3 extends React.PureComponent {\n  getDelay = (e, b) => (e % b) * 100 + Math.floor(e / b) * 100 + b * 100;\n\n  render() {\n    const { ...props } = this.props;\n    const { dataSource, isMobile } = props;\n    delete props.dataSource;\n    delete props.isMobile;\n    let clearFloatNum = 0;\n    const children = dataSource.block.children.map((item, i) => {\n      const childObj = item.children;\n      const delay = isMobile ? i * 50 : this.getDelay(i, 24 / item.md);\n      const liAnim = {\n        opacity: 0,\n        type: 'from',\n        ease: 'easeOutQuad',\n        delay,\n      };\n      const childrenAnim = { ...liAnim, x: '+=10', delay: delay + 100 };\n      clearFloatNum += item.md;\n      clearFloatNum = clearFloatNum > 24 ? 0 : clearFloatNum;\n      return (\n        <TweenOne\n          component={Col}\n          animation={liAnim}\n          key={item.name}\n          {...item}\n          componentProps={{ md: item.md, xs: item.xs }}\n          className={\n            !clearFloatNum\n              ? `${item.className || ''} clear-both`.trim()\n              : item.className\n          }\n        >\n          <TweenOne\n            animation={{\n              x: '-=10',\n              opacity: 0,\n              type: 'from',\n              ease: 'easeOutQuad',\n            }}\n            key=\"img\"\n            {...childObj.icon}\n          >\n            {childObj.icon.children}\n          </TweenOne>\n          <div {...childObj.textWrapper}>\n            <TweenOne\n              key=\"h2\"\n              animation={childrenAnim}\n              component=\"h2\"\n              {...childObj.title}\n            >\n              {childObj.title.children}\n            </TweenOne>\n            <TweenOne\n              key=\"p\"\n              animation={{ ...childrenAnim, delay: delay + 200 }}\n              component=\"div\"\n              {...childObj.content}\n            >\n              {childObj.content.children}\n            </TweenOne>\n          </div>\n        </TweenOne>\n      );\n    });\n    return (\n      <div {...props} {...dataSource.wrapper}>\n        <div {...dataSource.page}>\n          <div {...dataSource.titleWrapper}>\n            {dataSource.titleWrapper.children.map(getChildrenToRender)}\n          </div>\n          <OverPack {...dataSource.OverPack}>\n            <QueueAnim key=\"u\" type=\"bottom\">\n              <Row key=\"row\" {...dataSource.block}>\n                {children}\n              </Row>\n            </QueueAnim>\n          </OverPack>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Content3;\n","import React from 'react';\nimport TweenOne from 'rc-tween-one';\nimport OverPack from 'rc-scroll-anim/lib/ScrollOverPack';\n\nclass Footer extends React.PureComponent {\n  render() {\n    const { ...props } = this.props;\n    const { dataSource } = props;\n    delete props.dataSource;\n    delete props.isMobile;\n    return (\n      <div {...props} {...dataSource.wrapper}>\n        <OverPack {...dataSource.OverPack}>\n          <TweenOne\n            animation={{ y: '+=30', opacity: 0, type: 'from' }}\n            key=\"footer\"\n            {...dataSource.copyright}\n          >\n            {dataSource.copyright.children}\n          </TweenOne>\n        </OverPack>\n      </div>\n    );\n  }\n}\n\nexport default Footer;\n","import React from \"react\";\nimport {\n  VideoCameraOutlined,\n  AppstoreAddOutlined,\n  SettingOutlined,\n  DatabaseOutlined,\n  AlignLeftOutlined,\n  EditOutlined,\n} from \"@ant-design/icons\";\n\nexport const Banner00DataSource = {\n  wrapper: { className: \"banner0\" },\n  textWrapper: { className: \"banner0-text-wrapper\" },\n  title: {\n    className: \"banner0-title\",\n    children: \"Sirilee Web Page\",\n  },\n  content: {\n    className: \"banner0-content\",\n    children: \"My Personal Website\",\n  },\n  button: { className: \"banner0-button\", children: \"Learn More\", },\n};\nexport const Content00DataSource = {\n  wrapper: { className: \"home-page-wrapper content0-wrapper\" },\n  page: { className: \"home-page content0\" },\n  OverPack: { playScale: 0.3, className: \"\" },\n  titleWrapper: {\n    className: \"title-wrapper\",\n    children: [{ name: \"title\", children: \"Skills\" }],\n  },\n  childWrapper: {\n    className: \"content0-block-wrapper\",\n    children: [\n      {\n        name: \"block0\",\n        className: \"content0-block\",\n        md: 8,\n        xs: 24,\n        children: {\n          className: \"content0-block-item\",\n          children: [\n            {\n              name: \"image\",\n              className: \"content0-block-icon\",\n              children: <VideoCameraOutlined />,\n            },\n            {\n              name: \"title\",\n              className: \"content0-block-title\",\n              children: \"Video Filming\",\n            },\n            { name: \"content\", children: \"Multiple videos\" },\n          ],\n        },\n      },\n      {\n        name: \"block1\",\n        className: \"content0-block\",\n        md: 8,\n        xs: 24,\n        children: {\n          className: \"content0-block-item\",\n          children: [\n            {\n              name: \"image\",\n              className: \"content0-block-icon\",\n              children: <AppstoreAddOutlined />,\n            },\n            {\n              name: \"title\",\n              className: \"content0-block-title\",\n              children: \"Multiple projects\",\n            },\n            {\n              name: \"content\",\n              children: \"Developed multiple projects in the past\",\n            },\n          ],\n        },\n      },\n      {\n        name: \"block2\",\n        className: \"content0-block\",\n        md: 8,\n        xs: 24,\n        children: {\n          className: \"content0-block-item\",\n          children: [\n            {\n              name: \"image\",\n              className: \"content0-block-icon\",\n              children: <SettingOutlined />,\n            },\n            {\n              name: \"title\",\n              className: \"content0-block-title\",\n              children: \"Different platforms\",\n            },\n            {\n              name: \"content\",\n              children: \"Experienced in different platforms' development\",\n            },\n          ],\n        },\n      },\n    ],\n  },\n};\n\nexport const Content30DataSource = {\n  wrapper: { className: \"home-page-wrapper content3-wrapper\" },\n  page: { className: \"home-page content3\" },\n  OverPack: { playScale: 0.3 },\n  titleWrapper: {\n    className: \"title-wrapper\",\n    children: [\n      {\n        name: \"title\",\n        children: \"I love finding solutions for every possible tasks\",\n        className: \"title-h1\",\n      },\n      {\n        name: \"content\",\n        className: \"title-content\",\n        children: \"Projects list\",\n      },\n    ],\n  },\n  block: {\n    className: \"content3-block-wrapper\",\n    children: [\n      {\n        name: \"block0\",\n        className: \"content3-block\",\n        md: 8,\n        xs: 24,\n        children: {\n          icon: {\n            className: \"content3-icon\",\n            children: <DatabaseOutlined />,\n          },\n          textWrapper: { className: \"content3-text\" },\n          title: {\n            className: \"content3-title\",\n            children: \"Storage Management System\",\n          },\n          content: {\n            className: \"content3-content\",\n            children:\n              \"A Python implemented storage management system which has a mobile app, web app, and managable admin site\",\n          },\n        },\n      },\n      {\n        name: \"block1\",\n        className: \"content3-block\",\n        md: 8,\n        xs: 24,\n        children: {\n          icon: {\n            className: \"content3-icon\",\n            children: <AlignLeftOutlined />,\n          },\n          textWrapper: { className: \"content3-text\" },\n          title: { className: \"content3-title\", children: \"NewsFeed\" },\n          content: {\n            className: \"content3-content\",\n            children:\n              \"An app which find news from internet and parse HTML into Markdown 24x7. Currently, it collected more than 160,000 news in last two years.\",\n          },\n        },\n      },\n      {\n        name: \"block2\",\n        className: \"content3-block\",\n        md: 8,\n        xs: 24,\n        children: {\n          icon: {\n            className: \"content3-icon\",\n            children: <EditOutlined />,\n          },\n          textWrapper: { className: \"content3-text\" },\n          title: {\n            className: \"content3-title\",\n            children: \"Multi-user editing platform\",\n          },\n          content: {\n            className: \"content3-content\",\n            children:\n              \"A multi-user Collaboration platform which provides a common place for settings used in the document editing. Can be change in real-time across all end users.\",\n          },\n        },\n      },\n      {\n        name: \"block3\",\n        className: \"content3-block\",\n        md: 8,\n        xs: 24,\n        children: {\n          icon: {\n            className: \"content3-icon\",\n            children: <AppstoreAddOutlined />,\n          },\n          textWrapper: { className: \"content3-text\" },\n          title: {\n            className: \"content3-title\",\n            children: \"Draft JS Flutter Renderer\",\n          },\n          content: {\n            className: \"content3-content\",\n            children: \"An open sourced Draft JS renderer for Flutter.\",\n          },\n        },\n      },\n      {\n        name: \"block4\",\n        className: \"content3-block\",\n        md: 8,\n        xs: 24,\n        children: {\n          icon: {\n            className: \"content3-icon\",\n            children: <AppstoreAddOutlined />,\n          },\n          textWrapper: { className: \"content3-text\" },\n          title: {\n            className: \"content3-title\",\n            children: \"Flutter JSON Textform\",\n          },\n          content: {\n            className: \"content3-content\",\n            children:\n              \"An auto form generated framework for Flutter which can auto generate text form\",\n          },\n        },\n      },\n    ],\n  },\n};\nexport const Footer00DataSource = {\n  wrapper: { className: \"home-page-wrapper footer0-wrapper\" },\n  OverPack: { className: \"home-page footer0\", playScale: 0.05 },\n  copyright: {\n    className: \"copyright\",\n    children: <span></span>,\n  },\n};\n","import React from 'react';\nimport { Button } from 'antd';\nimport { DownOutlined } from '@ant-design/icons';\nimport QueueAnim from 'rc-queue-anim';\nimport TweenOne from 'rc-tween-one';\nimport { isImg } from './utils';\nimport { useHistory } from \"react-router\"\n\nexport function Banner0(props){\n  const { ...currentProps } = props;\n  const { dataSource } = currentProps;\n  const history = useHistory()\n\n  delete currentProps.dataSource;\n  delete currentProps.isMobile;\n  return (\n    <div {...currentProps} {...dataSource.wrapper}>\n      <QueueAnim\n        key=\"QueueAnim\"\n        type={['bottom', 'top']}\n        delay={200}\n        {...dataSource.textWrapper}\n      >\n        <div key=\"title\" {...dataSource.title}>\n          {typeof dataSource.title.children === 'string' &&\n          dataSource.title.children.match(isImg) ? (\n            <img src={dataSource.title.children} width=\"100%\" alt=\"img\" />\n          ) : (\n            dataSource.title.children\n          )}\n        </div>\n        <div key=\"content\" {...dataSource.content}>\n          {dataSource.content.children}\n        </div>\n        <Button ghost key=\"button\" {...dataSource.button} onClick={()=>{history.push(\"/blog\")}}>\n          {dataSource.button.children}\n        </Button>\n      </QueueAnim>\n      <TweenOne\n        animation={{\n          y: '-=20',\n          yoyo: true,\n          repeat: -1,\n          duration: 1000,\n        }}\n        className=\"banner0-icon\"\n        key=\"icon\"\n      >\n        <DownOutlined />\n      </TweenOne>\n    </div>\n  );\n}\n","import React from \"react\";\nimport DiaryPage from \"../components/diary/DiaryPage\";\nimport Homepage from \"../components/home/Homepage\";\nimport PostDetail from \"../components/post/PostDetail\";\nimport { WelcomPage } from \"../components/welcomepage\";\n\nexport interface PageRoute {\n  title: string;\n  component: JSX.Element;\n  path: string;\n  navPath: string;\n  showInMenu: boolean;\n}\n\nexport const routes: PageRoute[] = [\n  {\n    title: \"Home\",\n    path: \"/\",\n    navPath: \"/\",\n    component: <WelcomPage />,\n    showInMenu: true,\n  },\n  {\n    title: \"Blog\",\n    path: \"/blog/:id?\",\n    navPath: \"/blog\",\n    component: <Homepage />,\n    showInMenu: true,\n  },\n  {\n    title: \"Diary\",\n    path: \"/diary/:time?\",\n    navPath: \"/diary\",\n    component: <DiaryPage />,\n    showInMenu: true,\n  },\n  {\n    title: \"Blog\",\n    path: \"/blog/post/:id?\",\n    navPath: \"/post\",\n    component: <PostDetail />,\n    showInMenu: false,\n  },\n];\n","import React from \"react\";\nimport { Menu } from \"antd\";\nimport { PageRoute, routes } from \"../settings/routes\";\nimport { useLocation, useHistory, useRouteMatch } from \"react-router\";\nimport { Layout } from \"antd\";\n\nconst { Header } = Layout;\n\nexport default function Navbar() {\n  const location = useLocation();\n  const history = useHistory();\n  const [selected, setSelected] = React.useState<string>(\"/\");\n\n  React.useEffect(() => {\n    let selectedRoute = routes.find(\n      (r) => location.pathname.includes(r.navPath) && r.navPath !== \"/\"\n    );\n    if (selectedRoute) {\n      setSelected(selectedRoute.path ?? \"\");\n    } else if (location.pathname === \"/\") {\n      setSelected(\"/\");\n    }\n  }, [location]);\n\n  return (\n    <Header\n      style={{\n        // backgroundColor: \"white\",\n        position: \"sticky\",\n        top: 0,\n        zIndex: 1200,\n      }}\n    >\n      <Menu mode=\"horizontal\" selectedKeys={[selected]} theme=\"dark\">\n        {routes\n          .filter((r) => r.showInMenu)\n          .map((r, i) => (\n            <Menu.Item\n              key={r.path}\n              onClick={() => {\n                history.push(r.navPath);\n              }}\n            >\n              {r.title}\n            </Menu.Item>\n          ))}\n      </Menu>\n    </Header>\n  );\n}\n","/** @format */\n\nimport React from \"react\";\nimport { HashRouter as Router, Route, Link, Switch } from \"react-router-dom\";\nimport Homepage from \"./components/home/Homepage\";\nimport PostProvider from \"./components/states/PostState\";\nimport { createMuiTheme } from \"@material-ui/core/styles\";\nimport { purple, green, grey, blue } from \"@material-ui/core/colors\";\nimport { ThemeProvider } from \"@material-ui/styles\";\nimport PostDetail from \"./components/post/PostDetail\";\nimport PodcastList from \"./components/podcast/PodcastList\";\nimport PodcastDetail from \"./components/podcast/details/PodcastDetail\";\nimport PodcastProvider from \"./components/states/PodcastState\";\nimport { CssBaseline } from \"@material-ui/core\";\nimport { WelcomPage } from \"./components/welcomepage\";\nimport \"./App.css\";\nimport \"react-image-lightbox/style.css\";\nimport \"react-h5-audio-player/lib/styles.css\";\nimport \"antd/dist/antd.css\";\nimport { routes } from \"./settings/routes\";\nimport Navbar from \"./components/Nav\";\nimport VideoDiaryProvider from \"./components/states/VideoDiaryState\";\n\nconst theme = createMuiTheme({\n  palette: {\n    type: \"light\",\n    primary: purple,\n    secondary: blue,\n  },\n});\n\nconst podcastTheme = createMuiTheme({\n  palette: {\n    type: \"dark\",\n    primary: grey,\n  },\n});\n\nconst App: React.FC = () => {\n  return (\n    <Router>\n      <Navbar />\n      <div>\n        <ThemeProvider theme={theme}>\n          <VideoDiaryProvider>\n            <PostProvider>\n              <CssBaseline />\n\n              {routes.map((r, i) => (\n                <Route path={r.path} exact key={`route-${i}`}>\n                  {r.component}\n                </Route>\n              ))}\n              {/* <Route path=\"/blog/:id?\" exact component={Homepage}></Route>\n            <Route path=\"/post/:id\" exact component={PostDetail}></Route> */}\n            </PostProvider>\n          </VideoDiaryProvider>\n        </ThemeProvider>\n        <ThemeProvider theme={podcastTheme}>\n          <PodcastProvider>\n            {/* <Route path=\"/playlist/\" exact component={PodcastList}></Route>\n            <Route path=\"/podcast/:id\" exact component={PodcastDetail}></Route> */}\n          </PodcastProvider>\n        </ThemeProvider>\n      </div>\n    </Router>\n  );\n};\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}